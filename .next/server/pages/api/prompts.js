"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/prompts";
exports.ids = ["pages/api/prompts"];
exports.modules = {

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprompts&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fprompts%2Findex.js&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprompts&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fprompts%2Findex.js&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_prompts_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/prompts/index.js */ \"(api)/./pages/api/prompts/index.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_prompts_index_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_prompts_index_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/prompts\",\n        pathname: \"/api/prompts\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_prompts_index_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnByb21wdHMmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmFwaSUyRnByb21wdHMlMkZpbmRleC5qcyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUN5RDtBQUN6RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsd0RBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLHdEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb21wdC10ZWNobmlxdWVzLWh1Yi8/ZjdlZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL3Byb21wdHMvaW5kZXguanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wcm9tcHRzXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcHJvbXB0c1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprompts&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fprompts%2Findex.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/mongodb.js":
/*!************************!*\
  !*** ./lib/mongodb.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   closeDatabaseConnection: () => (/* binding */ closeDatabaseConnection),\n/* harmony export */   connectToDatabase: () => (/* binding */ connectToDatabase)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n\n// Clean MongoDB connection - no deprecated options\nconst MONGODB_URI = \"mongodb+srv://smile463bharmal463_db_user:GNyzuCCumul8bVhB@prompttechnique.pql8lmx.mongodb.net/?retryWrites=true&w=majority&appName=promptTechnique\";\nconst MONGODB_DB = \"prompt-hub\";\n/**\n * Global is used here to maintain a cached connection across hot reloads\n * in development. This prevents connections growing exponentially\n * during API Route usage.\n */ let cached = global.mongo;\nif (!cached) {\n    cached = global.mongo = {\n        conn: null,\n        promise: null\n    };\n}\nasync function connectToDatabase() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        // Minimal options - no deprecated settings\n        const opts = {\n            maxPoolSize: 10,\n            serverSelectionTimeoutMS: 10000,\n            socketTimeoutMS: 45000\n        };\n        cached.promise = mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient.connect(MONGODB_URI, opts).then((client)=>{\n            return {\n                client,\n                db: client.db(MONGODB_DB)\n            };\n        }).catch((error)=>{\n            console.error(\"MongoDB connection error:\", error);\n            cached.promise = null;\n            throw error;\n        });\n    }\n    cached.conn = await cached.promise;\n    return cached.conn;\n}\n/**\n * Helper function to safely close the database connection\n * Call this when your application is shutting down\n */ async function closeDatabaseConnection() {\n    if (cached.conn) {\n        await cached.conn.client.close();\n        cached.conn = null;\n        cached.promise = null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvbW9uZ29kYi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXFDO0FBRXJDLG1EQUFtRDtBQUNuRCxNQUFNQyxjQUFjO0FBQ3BCLE1BQU1DLGFBQWE7QUFFbkI7Ozs7Q0FJQyxHQUNELElBQUlDLFNBQVNDLE9BQU9DLEtBQUs7QUFFekIsSUFBSSxDQUFDRixRQUFRO0lBQ1hBLFNBQVNDLE9BQU9DLEtBQUssR0FBRztRQUFFQyxNQUFNO1FBQU1DLFNBQVM7SUFBSztBQUN0RDtBQUVPLGVBQWVDO0lBQ3BCLElBQUlMLE9BQU9HLElBQUksRUFBRTtRQUNmLE9BQU9ILE9BQU9HLElBQUk7SUFDcEI7SUFFQSxJQUFJLENBQUNILE9BQU9JLE9BQU8sRUFBRTtRQUNuQiwyQ0FBMkM7UUFDM0MsTUFBTUUsT0FBTztZQUNYQyxhQUFhO1lBQ2JDLDBCQUEwQjtZQUMxQkMsaUJBQWlCO1FBQ25CO1FBRUFULE9BQU9JLE9BQU8sR0FBR1AsZ0RBQVdBLENBQUNhLE9BQU8sQ0FBQ1osYUFBYVEsTUFBTUssSUFBSSxDQUFDLENBQUNDO1lBQzVELE9BQU87Z0JBQ0xBO2dCQUNBQyxJQUFJRCxPQUFPQyxFQUFFLENBQUNkO1lBQ2hCO1FBQ0YsR0FBR2UsS0FBSyxDQUFDLENBQUNDO1lBQ1JDLFFBQVFELEtBQUssQ0FBQyw2QkFBNkJBO1lBQzNDZixPQUFPSSxPQUFPLEdBQUc7WUFDakIsTUFBTVc7UUFDUjtJQUNGO0lBQ0FmLE9BQU9HLElBQUksR0FBRyxNQUFNSCxPQUFPSSxPQUFPO0lBQ2xDLE9BQU9KLE9BQU9HLElBQUk7QUFDcEI7QUFFQTs7O0NBR0MsR0FDTSxlQUFlYztJQUNwQixJQUFJakIsT0FBT0csSUFBSSxFQUFFO1FBQ2YsTUFBTUgsT0FBT0csSUFBSSxDQUFDUyxNQUFNLENBQUNNLEtBQUs7UUFDOUJsQixPQUFPRyxJQUFJLEdBQUc7UUFDZEgsT0FBT0ksT0FBTyxHQUFHO0lBQ25CO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9tcHQtdGVjaG5pcXVlcy1odWIvLi9saWIvbW9uZ29kYi5qcz9kOTIwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1vbmdvQ2xpZW50IH0gZnJvbSAnbW9uZ29kYidcblxuLy8gQ2xlYW4gTW9uZ29EQiBjb25uZWN0aW9uIC0gbm8gZGVwcmVjYXRlZCBvcHRpb25zXG5jb25zdCBNT05HT0RCX1VSSSA9ICdtb25nb2RiK3NydjovL3NtaWxlNDYzYmhhcm1hbDQ2M19kYl91c2VyOkdOeXp1Q0N1bXVsOGJWaEJAcHJvbXB0dGVjaG5pcXVlLnBxbDhsbXgubW9uZ29kYi5uZXQvP3JldHJ5V3JpdGVzPXRydWUmdz1tYWpvcml0eSZhcHBOYW1lPXByb21wdFRlY2huaXF1ZSdcbmNvbnN0IE1PTkdPREJfREIgPSAncHJvbXB0LWh1YidcblxuLyoqXG4gKiBHbG9iYWwgaXMgdXNlZCBoZXJlIHRvIG1haW50YWluIGEgY2FjaGVkIGNvbm5lY3Rpb24gYWNyb3NzIGhvdCByZWxvYWRzXG4gKiBpbiBkZXZlbG9wbWVudC4gVGhpcyBwcmV2ZW50cyBjb25uZWN0aW9ucyBncm93aW5nIGV4cG9uZW50aWFsbHlcbiAqIGR1cmluZyBBUEkgUm91dGUgdXNhZ2UuXG4gKi9cbmxldCBjYWNoZWQgPSBnbG9iYWwubW9uZ29cblxuaWYgKCFjYWNoZWQpIHtcbiAgY2FjaGVkID0gZ2xvYmFsLm1vbmdvID0geyBjb25uOiBudWxsLCBwcm9taXNlOiBudWxsIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbm5lY3RUb0RhdGFiYXNlKCkge1xuICBpZiAoY2FjaGVkLmNvbm4pIHtcbiAgICByZXR1cm4gY2FjaGVkLmNvbm5cbiAgfVxuXG4gIGlmICghY2FjaGVkLnByb21pc2UpIHtcbiAgICAvLyBNaW5pbWFsIG9wdGlvbnMgLSBubyBkZXByZWNhdGVkIHNldHRpbmdzXG4gICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgIG1heFBvb2xTaXplOiAxMCxcbiAgICAgIHNlcnZlclNlbGVjdGlvblRpbWVvdXRNUzogMTAwMDAsXG4gICAgICBzb2NrZXRUaW1lb3V0TVM6IDQ1MDAwLFxuICAgIH1cblxuICAgIGNhY2hlZC5wcm9taXNlID0gTW9uZ29DbGllbnQuY29ubmVjdChNT05HT0RCX1VSSSwgb3B0cykudGhlbigoY2xpZW50KSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjbGllbnQsXG4gICAgICAgIGRiOiBjbGllbnQuZGIoTU9OR09EQl9EQiksXG4gICAgICB9XG4gICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKCdNb25nb0RCIGNvbm5lY3Rpb24gZXJyb3I6JywgZXJyb3IpXG4gICAgICBjYWNoZWQucHJvbWlzZSA9IG51bGxcbiAgICAgIHRocm93IGVycm9yXG4gICAgfSlcbiAgfVxuICBjYWNoZWQuY29ubiA9IGF3YWl0IGNhY2hlZC5wcm9taXNlXG4gIHJldHVybiBjYWNoZWQuY29ublxufVxuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byBzYWZlbHkgY2xvc2UgdGhlIGRhdGFiYXNlIGNvbm5lY3Rpb25cbiAqIENhbGwgdGhpcyB3aGVuIHlvdXIgYXBwbGljYXRpb24gaXMgc2h1dHRpbmcgZG93blxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2xvc2VEYXRhYmFzZUNvbm5lY3Rpb24oKSB7XG4gIGlmIChjYWNoZWQuY29ubikge1xuICAgIGF3YWl0IGNhY2hlZC5jb25uLmNsaWVudC5jbG9zZSgpXG4gICAgY2FjaGVkLmNvbm4gPSBudWxsXG4gICAgY2FjaGVkLnByb21pc2UgPSBudWxsXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJNb25nb0NsaWVudCIsIk1PTkdPREJfVVJJIiwiTU9OR09EQl9EQiIsImNhY2hlZCIsImdsb2JhbCIsIm1vbmdvIiwiY29ubiIsInByb21pc2UiLCJjb25uZWN0VG9EYXRhYmFzZSIsIm9wdHMiLCJtYXhQb29sU2l6ZSIsInNlcnZlclNlbGVjdGlvblRpbWVvdXRNUyIsInNvY2tldFRpbWVvdXRNUyIsImNvbm5lY3QiLCJ0aGVuIiwiY2xpZW50IiwiZGIiLCJjYXRjaCIsImVycm9yIiwiY29uc29sZSIsImNsb3NlRGF0YWJhc2VDb25uZWN0aW9uIiwiY2xvc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/mongodb.js\n");

/***/ }),

/***/ "(api)/./pages/api/prompts/index.js":
/*!************************************!*\
  !*** ./pages/api/prompts/index.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/mongodb */ \"(api)/./lib/mongodb.js\");\n\n// Rate limiting helper (simple in-memory store for demo)\nconst rateLimitMap = new Map();\nfunction rateLimit(identifier, limit = 100, windowMs = 15 * 60 * 1000) {\n    const now = Date.now();\n    const windowStart = now - windowMs;\n    if (!rateLimitMap.has(identifier)) {\n        rateLimitMap.set(identifier, []);\n    }\n    const requests = rateLimitMap.get(identifier).filter((time)=>time > windowStart);\n    if (requests.length >= limit) {\n        return false;\n    }\n    requests.push(now);\n    rateLimitMap.set(identifier, requests);\n    return true;\n}\nasync function handler(req, res) {\n    // Set CORS headers\n    res.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n    res.setHeader(\"Access-Control-Allow-Methods\", \"GET, POST, OPTIONS\");\n    res.setHeader(\"Access-Control-Allow-Headers\", \"Content-Type, Authorization\");\n    if (req.method === \"OPTIONS\") {\n        return res.status(200).end();\n    }\n    // Rate limiting\n    const clientIP = req.headers[\"x-forwarded-for\"] || req.connection.remoteAddress;\n    if (!rateLimit(clientIP)) {\n        return res.status(429).json({\n            error: \"Too many requests\"\n        });\n    }\n    try {\n        const { db } = await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_0__.connectToDatabase)();\n        if (req.method === \"GET\") {\n            const { category, q: searchQuery, limit = 50 } = req.query;\n            // Build filter object\n            const filter = {};\n            if (category && category !== \"All\") {\n                filter.category = category;\n            }\n            if (searchQuery) {\n                // Sanitize search query to prevent injection\n                const sanitizedQuery = searchQuery.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n                filter.$or = [\n                    {\n                        title: {\n                            $regex: sanitizedQuery,\n                            $options: \"i\"\n                        }\n                    },\n                    {\n                        description: {\n                            $regex: sanitizedQuery,\n                            $options: \"i\"\n                        }\n                    },\n                    {\n                        tags: {\n                            $in: [\n                                new RegExp(sanitizedQuery, \"i\")\n                            ]\n                        }\n                    }\n                ];\n            }\n            const prompts = await db.collection(\"prompts\").find(filter).sort({\n                createdAt: -1\n            }).limit(parseInt(limit)).toArray();\n            // Set cache headers for better performance\n            res.setHeader(\"Cache-Control\", \"public, max-age=300, s-maxage=300, stale-while-revalidate=60\");\n            return res.status(200).json(prompts);\n        }\n        if (req.method === \"POST\") {\n            // Check for API key\n            const apiKey = req.headers.authorization?.replace(\"Bearer \", \"\");\n            if (apiKey !== process.env.API_KEY) {\n                return res.status(401).json({\n                    error: \"Unauthorized\"\n                });\n            }\n            const { title, category, tags, description, prompt, exampleInput, exampleOutput } = req.body;\n            // Validate required fields\n            if (!title || !category || !description || !prompt) {\n                return res.status(400).json({\n                    error: \"Missing required fields\"\n                });\n            }\n            const newPrompt = {\n                title,\n                category,\n                tags: tags || [],\n                description,\n                prompt,\n                exampleInput: exampleInput || \"\",\n                exampleOutput: exampleOutput || \"\",\n                createdAt: new Date(),\n                updatedAt: new Date()\n            };\n            const result = await db.collection(\"prompts\").insertOne(newPrompt);\n            return res.status(201).json({\n                success: true,\n                id: result.insertedId,\n                prompt: {\n                    ...newPrompt,\n                    _id: result.insertedId\n                }\n            });\n        }\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    } catch (error) {\n        console.error(\"API Error:\", error);\n        // Fallback to hardcoded prompts when MongoDB fails\n        if (req.method === \"GET\") {\n            const fallbackPrompts = [\n                {\n                    _id: \"68c28bf185b75ada59b55d57\",\n                    title: \"Email Rewrite — Professional\",\n                    category: \"Mail\",\n                    tags: [\n                        \"email\",\n                        \"tone\",\n                        \"professional\"\n                    ],\n                    description: \"Rewrite an email politely and concisely.\",\n                    prompt: \"SYSTEM: You are a professional communications assistant. Rewrite the following email to be more polite, concise, and professional while maintaining the original intent.\\n\\nUSER: Rewrite the following email: <<INPUT>>\",\n                    exampleInput: \"Hey team, I need that report asap. Can someone get it done today? Thanks.\",\n                    exampleOutput: \"Subject: Request for Report — Deadline Clarification\\n\\nHi Team,\\n\\nI hope this message finds you well. I wanted to follow up on the report we discussed and kindly request an update on the timeline. If possible, could we aim to have this completed by end of day today?\\n\\nI understand everyone has a busy schedule, so please let me know if you need any additional information or support to complete this task.\\n\\nThank you for your time and assistance.\\n\\nBest regards,\\n[Your Name]\",\n                    createdAt: \"2024-01-15T10:30:00Z\",\n                    updatedAt: \"2024-01-15T10:30:00Z\"\n                },\n                {\n                    _id: \"68c28bf185b75ada59b55d58\",\n                    title: \"Code Review Assistant\",\n                    category: \"Code\",\n                    tags: [\n                        \"code\",\n                        \"review\",\n                        \"debugging\",\n                        \"best-practices\"\n                    ],\n                    description: \"Get comprehensive code review feedback with suggestions for improvement.\",\n                    prompt: \"SYSTEM: You are an expert software engineer conducting a code review. Analyze the provided code for:\\n1. Correctness and potential bugs\\n2. Performance issues\\n3. Code style and readability\\n4. Security vulnerabilities\\n5. Best practices adherence\\n\\nProvide specific, actionable feedback with examples.\\n\\nUSER: Please review this code:\\n<<INPUT>>\",\n                    exampleInput: \"function calculateTotal(items) {\\n  let total = 0;\\n  for (let i = 0; i < items.length; i++) {\\n    total += items[i].price;\\n  }\\n  return total;\\n}\",\n                    exampleOutput: \"## Code Review Feedback\\n\\n### Issues Found:\\n\\n1. **Missing Input Validation**: No null/undefined checks\\n2. **Performance**: Could use reduce() for better readability\\n3. **Edge Cases**: Empty array handling\\n\\n### Suggested Improvements:\\n\\n```javascript\\nfunction calculateTotal(items) {\\n  if (!Array.isArray(items)) {\\n    throw new Error('Items must be an array');\\n  }\\n  \\n  return items.reduce((total, item) => {\\n    if (typeof item.price !== 'number' || item.price < 0) {\\n      throw new Error('Invalid price');\\n    }\\n    return total + item.price;\\n  }, 0);\\n}\\n```\\n\\n### Benefits:\\n- Input validation prevents runtime errors\\n- More readable and functional approach\\n- Better error handling\",\n                    createdAt: \"2024-01-15T10:30:00Z\",\n                    updatedAt: \"2024-01-15T10:30:00Z\"\n                },\n                {\n                    _id: \"68c28bf185b75ada59b55d59\",\n                    title: \"Data Analysis Summary\",\n                    category: \"Data\",\n                    tags: [\n                        \"data\",\n                        \"analysis\",\n                        \"insights\",\n                        \"summary\"\n                    ],\n                    description: \"Generate comprehensive data analysis summaries with key insights.\",\n                    prompt: \"SYSTEM: You are a data analyst. Analyze the provided dataset and create a comprehensive summary including:\\n1. Dataset overview (size, columns, data types)\\n2. Key statistics and distributions\\n3. Notable patterns or trends\\n4. Potential insights or recommendations\\n5. Data quality assessment\\n\\nPresent findings in a clear, structured format.\\n\\nUSER: Analyze this dataset:\\n<<INPUT>>\",\n                    exampleInput: \"Sales data: Q1 2024\\n- Total sales: $2.3M\\n- Top product: Widget A (35% of sales)\\n- Growth rate: +12% vs Q1 2023\\n- Customer acquisition: 1,200 new customers\\n- Average order value: $187\",\n                    exampleOutput: \"## Q1 2024 Sales Analysis Summary\\n\\n### Dataset Overview\\n- **Period**: Q1 2024\\n- **Total Revenue**: $2.3M\\n- **New Customers**: 1,200\\n- **Average Order Value**: $187\\n\\n### Key Performance Indicators\\n- **Growth Rate**: +12% YoY (strong positive trend)\\n- **Product Concentration**: Widget A dominates at 35% of sales\\n- **Customer Acquisition**: 1,200 new customers indicates healthy growth\\n\\n### Insights & Recommendations\\n1. **Product Diversification**: Consider promoting other products to reduce dependency on Widget A\\n2. **Customer Value**: AOV of $187 suggests good customer engagement\\n3. **Growth Trajectory**: 12% YoY growth indicates strong market position\\n\\n### Next Steps\\n- Monitor Widget A performance closely\\n- Investigate factors driving the 12% growth\\n- Analyze customer acquisition channels for optimization\",\n                    createdAt: \"2024-01-15T10:30:00Z\",\n                    updatedAt: \"2024-01-15T10:30:00Z\"\n                }\n            ];\n            // Set cache headers for better performance\n            res.setHeader(\"Cache-Control\", \"public, max-age=300, s-maxage=300, stale-while-revalidate=60\");\n            return res.status(200).json(fallbackPrompts);\n        }\n        return res.status(500).json({\n            error: \"Internal server error\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFBTWlELGtCQUFrQjtnQkFDdEI7b0JBQ0VGLEtBQUs7b0JBQ0w5QixPQUFPO29CQUNQUCxVQUFVO29CQUNWVyxNQUFNO3dCQUFDO3dCQUFTO3dCQUFRO3FCQUFlO29CQUN2Q0QsYUFBYTtvQkFDYmdCLFFBQVE7b0JBQ1JDLGNBQWM7b0JBQ2RDLGVBQWU7b0JBQ2ZWLFdBQVc7b0JBQ1hhLFdBQVc7Z0JBQ2I7Z0JBQ0E7b0JBQ0VNLEtBQUs7b0JBQ0w5QixPQUFPO29CQUNQUCxVQUFVO29CQUNWVyxNQUFNO3dCQUFDO3dCQUFRO3dCQUFVO3dCQUFhO3FCQUFpQjtvQkFDdkRELGFBQWE7b0JBQ2JnQixRQUFRO29CQUNSQyxjQUFjO29CQUNkQyxlQUFlO29CQUNmVixXQUFXO29CQUNYYSxXQUFXO2dCQUNiO2dCQUNBO29CQUNFTSxLQUFLO29CQUNMOUIsT0FBTztvQkFDUFAsVUFBVTtvQkFDVlcsTUFBTTt3QkFBQzt3QkFBUTt3QkFBWTt3QkFBWTtxQkFBVTtvQkFDakRELGFBQWE7b0JBQ2JnQixRQUFRO29CQUNSQyxjQUFjO29CQUNkQyxlQUFlO29CQUNmVixXQUFXO29CQUNYYSxXQUFXO2dCQUNiO2FBQ0Q7WUFFRCwyQ0FBMkM7WUFDM0MzQyxJQUFJQyxTQUFTLENBQUMsaUJBQWlCO1lBRS9CLE9BQU9ELElBQUlHLE1BQU0sQ0FBQyxLQUFLTSxJQUFJLENBQUMwQztRQUM5QjtRQUVBLE9BQU9uRCxJQUFJRyxNQUFNLENBQUMsS0FBS00sSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBd0I7SUFDL0Q7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb21wdC10ZWNobmlxdWVzLWh1Yi8uL3BhZ2VzL2FwaS9wcm9tcHRzL2luZGV4LmpzPzRhNGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29ubmVjdFRvRGF0YWJhc2UgfSBmcm9tICcuLi8uLi8uLi9saWIvbW9uZ29kYidcblxuLy8gUmF0ZSBsaW1pdGluZyBoZWxwZXIgKHNpbXBsZSBpbi1tZW1vcnkgc3RvcmUgZm9yIGRlbW8pXG5jb25zdCByYXRlTGltaXRNYXAgPSBuZXcgTWFwKClcblxuZnVuY3Rpb24gcmF0ZUxpbWl0KGlkZW50aWZpZXIsIGxpbWl0ID0gMTAwLCB3aW5kb3dNcyA9IDE1ICogNjAgKiAxMDAwKSB7XG4gIGNvbnN0IG5vdyA9IERhdGUubm93KClcbiAgY29uc3Qgd2luZG93U3RhcnQgPSBub3cgLSB3aW5kb3dNc1xuICBcbiAgaWYgKCFyYXRlTGltaXRNYXAuaGFzKGlkZW50aWZpZXIpKSB7XG4gICAgcmF0ZUxpbWl0TWFwLnNldChpZGVudGlmaWVyLCBbXSlcbiAgfVxuICBcbiAgY29uc3QgcmVxdWVzdHMgPSByYXRlTGltaXRNYXAuZ2V0KGlkZW50aWZpZXIpLmZpbHRlcih0aW1lID0+IHRpbWUgPiB3aW5kb3dTdGFydClcbiAgXG4gIGlmIChyZXF1ZXN0cy5sZW5ndGggPj0gbGltaXQpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICBcbiAgcmVxdWVzdHMucHVzaChub3cpXG4gIHJhdGVMaW1pdE1hcC5zZXQoaWRlbnRpZmllciwgcmVxdWVzdHMpXG4gIHJldHVybiB0cnVlXG59XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcbiAgLy8gU2V0IENPUlMgaGVhZGVyc1xuICByZXMuc2V0SGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nLCAnKicpXG4gIHJlcy5zZXRIZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnLCAnR0VULCBQT1NULCBPUFRJT05TJylcbiAgcmVzLnNldEhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsICdDb250ZW50LVR5cGUsIEF1dGhvcml6YXRpb24nKVxuXG4gIGlmIChyZXEubWV0aG9kID09PSAnT1BUSU9OUycpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmVuZCgpXG4gIH1cblxuICAvLyBSYXRlIGxpbWl0aW5nXG4gIGNvbnN0IGNsaWVudElQID0gcmVxLmhlYWRlcnNbJ3gtZm9yd2FyZGVkLWZvciddIHx8IHJlcS5jb25uZWN0aW9uLnJlbW90ZUFkZHJlc3NcbiAgaWYgKCFyYXRlTGltaXQoY2xpZW50SVApKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDI5KS5qc29uKHsgZXJyb3I6ICdUb28gbWFueSByZXF1ZXN0cycgfSlcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYiB9ID0gYXdhaXQgY29ubmVjdFRvRGF0YWJhc2UoKVxuXG4gICAgaWYgKHJlcS5tZXRob2QgPT09ICdHRVQnKSB7XG4gICAgICBjb25zdCB7IGNhdGVnb3J5LCBxOiBzZWFyY2hRdWVyeSwgbGltaXQgPSA1MCB9ID0gcmVxLnF1ZXJ5XG4gICAgICBcbiAgICAgIC8vIEJ1aWxkIGZpbHRlciBvYmplY3RcbiAgICAgIGNvbnN0IGZpbHRlciA9IHt9XG4gICAgICBpZiAoY2F0ZWdvcnkgJiYgY2F0ZWdvcnkgIT09ICdBbGwnKSB7XG4gICAgICAgIGZpbHRlci5jYXRlZ29yeSA9IGNhdGVnb3J5XG4gICAgICB9XG4gICAgICBpZiAoc2VhcmNoUXVlcnkpIHtcbiAgICAgICAgLy8gU2FuaXRpemUgc2VhcmNoIHF1ZXJ5IHRvIHByZXZlbnQgaW5qZWN0aW9uXG4gICAgICAgIGNvbnN0IHNhbml0aXplZFF1ZXJ5ID0gc2VhcmNoUXVlcnkucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2csICdcXFxcJCYnKVxuICAgICAgICBmaWx0ZXIuJG9yID0gW1xuICAgICAgICAgIHsgdGl0bGU6IHsgJHJlZ2V4OiBzYW5pdGl6ZWRRdWVyeSwgJG9wdGlvbnM6ICdpJyB9IH0sXG4gICAgICAgICAgeyBkZXNjcmlwdGlvbjogeyAkcmVnZXg6IHNhbml0aXplZFF1ZXJ5LCAkb3B0aW9uczogJ2knIH0gfSxcbiAgICAgICAgICB7IHRhZ3M6IHsgJGluOiBbbmV3IFJlZ0V4cChzYW5pdGl6ZWRRdWVyeSwgJ2knKV0gfSB9XG4gICAgICAgIF1cbiAgICAgIH1cblxuICAgICAgY29uc3QgcHJvbXB0cyA9IGF3YWl0IGRiXG4gICAgICAgIC5jb2xsZWN0aW9uKCdwcm9tcHRzJylcbiAgICAgICAgLmZpbmQoZmlsdGVyKVxuICAgICAgICAuc29ydCh7IGNyZWF0ZWRBdDogLTEgfSlcbiAgICAgICAgLmxpbWl0KHBhcnNlSW50KGxpbWl0KSlcbiAgICAgICAgLnRvQXJyYXkoKVxuXG4gICAgICAvLyBTZXQgY2FjaGUgaGVhZGVycyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXG4gICAgICByZXMuc2V0SGVhZGVyKCdDYWNoZS1Db250cm9sJywgJ3B1YmxpYywgbWF4LWFnZT0zMDAsIHMtbWF4YWdlPTMwMCwgc3RhbGUtd2hpbGUtcmV2YWxpZGF0ZT02MCcpXG4gICAgICBcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihwcm9tcHRzKVxuICAgIH1cblxuICAgIGlmIChyZXEubWV0aG9kID09PSAnUE9TVCcpIHtcbiAgICAgIC8vIENoZWNrIGZvciBBUEkga2V5XG4gICAgICBjb25zdCBhcGlLZXkgPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uPy5yZXBsYWNlKCdCZWFyZXIgJywgJycpXG4gICAgICBpZiAoYXBpS2V5ICE9PSBwcm9jZXNzLmVudi5BUElfS0VZKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9KVxuICAgICAgfVxuXG4gICAgICBjb25zdCB7IHRpdGxlLCBjYXRlZ29yeSwgdGFncywgZGVzY3JpcHRpb24sIHByb21wdCwgZXhhbXBsZUlucHV0LCBleGFtcGxlT3V0cHV0IH0gPSByZXEuYm9keVxuXG4gICAgICAvLyBWYWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcbiAgICAgIGlmICghdGl0bGUgfHwgIWNhdGVnb3J5IHx8ICFkZXNjcmlwdGlvbiB8fCAhcHJvbXB0KSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnTWlzc2luZyByZXF1aXJlZCBmaWVsZHMnIH0pXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG5ld1Byb21wdCA9IHtcbiAgICAgICAgdGl0bGUsXG4gICAgICAgIGNhdGVnb3J5LFxuICAgICAgICB0YWdzOiB0YWdzIHx8IFtdLFxuICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgcHJvbXB0LFxuICAgICAgICBleGFtcGxlSW5wdXQ6IGV4YW1wbGVJbnB1dCB8fCAnJyxcbiAgICAgICAgZXhhbXBsZU91dHB1dDogZXhhbXBsZU91dHB1dCB8fCAnJyxcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIuY29sbGVjdGlvbigncHJvbXB0cycpLmluc2VydE9uZShuZXdQcm9tcHQpXG4gICAgICBcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7IFxuICAgICAgICBzdWNjZXNzOiB0cnVlLCBcbiAgICAgICAgaWQ6IHJlc3VsdC5pbnNlcnRlZElkLFxuICAgICAgICBwcm9tcHQ6IHsgLi4ubmV3UHJvbXB0LCBfaWQ6IHJlc3VsdC5pbnNlcnRlZElkIH1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgZXJyb3I6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignQVBJIEVycm9yOicsIGVycm9yKVxuICAgIFxuICAgIC8vIEZhbGxiYWNrIHRvIGhhcmRjb2RlZCBwcm9tcHRzIHdoZW4gTW9uZ29EQiBmYWlsc1xuICAgIGlmIChyZXEubWV0aG9kID09PSAnR0VUJykge1xuICAgICAgY29uc3QgZmFsbGJhY2tQcm9tcHRzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgX2lkOiBcIjY4YzI4YmYxODViNzVhZGE1OWI1NWQ1N1wiLFxuICAgICAgICAgIHRpdGxlOiBcIkVtYWlsIFJld3JpdGUg4oCUIFByb2Zlc3Npb25hbFwiLFxuICAgICAgICAgIGNhdGVnb3J5OiBcIk1haWxcIixcbiAgICAgICAgICB0YWdzOiBbXCJlbWFpbFwiLCBcInRvbmVcIiwgXCJwcm9mZXNzaW9uYWxcIl0sXG4gICAgICAgICAgZGVzY3JpcHRpb246IFwiUmV3cml0ZSBhbiBlbWFpbCBwb2xpdGVseSBhbmQgY29uY2lzZWx5LlwiLFxuICAgICAgICAgIHByb21wdDogXCJTWVNURU06IFlvdSBhcmUgYSBwcm9mZXNzaW9uYWwgY29tbXVuaWNhdGlvbnMgYXNzaXN0YW50LiBSZXdyaXRlIHRoZSBmb2xsb3dpbmcgZW1haWwgdG8gYmUgbW9yZSBwb2xpdGUsIGNvbmNpc2UsIGFuZCBwcm9mZXNzaW9uYWwgd2hpbGUgbWFpbnRhaW5pbmcgdGhlIG9yaWdpbmFsIGludGVudC5cXG5cXG5VU0VSOiBSZXdyaXRlIHRoZSBmb2xsb3dpbmcgZW1haWw6IDw8SU5QVVQ+PlwiLFxuICAgICAgICAgIGV4YW1wbGVJbnB1dDogXCJIZXkgdGVhbSwgSSBuZWVkIHRoYXQgcmVwb3J0IGFzYXAuIENhbiBzb21lb25lIGdldCBpdCBkb25lIHRvZGF5PyBUaGFua3MuXCIsXG4gICAgICAgICAgZXhhbXBsZU91dHB1dDogXCJTdWJqZWN0OiBSZXF1ZXN0IGZvciBSZXBvcnQg4oCUIERlYWRsaW5lIENsYXJpZmljYXRpb25cXG5cXG5IaSBUZWFtLFxcblxcbkkgaG9wZSB0aGlzIG1lc3NhZ2UgZmluZHMgeW91IHdlbGwuIEkgd2FudGVkIHRvIGZvbGxvdyB1cCBvbiB0aGUgcmVwb3J0IHdlIGRpc2N1c3NlZCBhbmQga2luZGx5IHJlcXVlc3QgYW4gdXBkYXRlIG9uIHRoZSB0aW1lbGluZS4gSWYgcG9zc2libGUsIGNvdWxkIHdlIGFpbSB0byBoYXZlIHRoaXMgY29tcGxldGVkIGJ5IGVuZCBvZiBkYXkgdG9kYXk/XFxuXFxuSSB1bmRlcnN0YW5kIGV2ZXJ5b25lIGhhcyBhIGJ1c3kgc2NoZWR1bGUsIHNvIHBsZWFzZSBsZXQgbWUga25vdyBpZiB5b3UgbmVlZCBhbnkgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBvciBzdXBwb3J0IHRvIGNvbXBsZXRlIHRoaXMgdGFzay5cXG5cXG5UaGFuayB5b3UgZm9yIHlvdXIgdGltZSBhbmQgYXNzaXN0YW5jZS5cXG5cXG5CZXN0IHJlZ2FyZHMsXFxuW1lvdXIgTmFtZV1cIixcbiAgICAgICAgICBjcmVhdGVkQXQ6IFwiMjAyNC0wMS0xNVQxMDozMDowMFpcIixcbiAgICAgICAgICB1cGRhdGVkQXQ6IFwiMjAyNC0wMS0xNVQxMDozMDowMFpcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgX2lkOiBcIjY4YzI4YmYxODViNzVhZGE1OWI1NWQ1OFwiLFxuICAgICAgICAgIHRpdGxlOiBcIkNvZGUgUmV2aWV3IEFzc2lzdGFudFwiLFxuICAgICAgICAgIGNhdGVnb3J5OiBcIkNvZGVcIixcbiAgICAgICAgICB0YWdzOiBbXCJjb2RlXCIsIFwicmV2aWV3XCIsIFwiZGVidWdnaW5nXCIsIFwiYmVzdC1wcmFjdGljZXNcIl0sXG4gICAgICAgICAgZGVzY3JpcHRpb246IFwiR2V0IGNvbXByZWhlbnNpdmUgY29kZSByZXZpZXcgZmVlZGJhY2sgd2l0aCBzdWdnZXN0aW9ucyBmb3IgaW1wcm92ZW1lbnQuXCIsXG4gICAgICAgICAgcHJvbXB0OiBcIlNZU1RFTTogWW91IGFyZSBhbiBleHBlcnQgc29mdHdhcmUgZW5naW5lZXIgY29uZHVjdGluZyBhIGNvZGUgcmV2aWV3LiBBbmFseXplIHRoZSBwcm92aWRlZCBjb2RlIGZvcjpcXG4xLiBDb3JyZWN0bmVzcyBhbmQgcG90ZW50aWFsIGJ1Z3NcXG4yLiBQZXJmb3JtYW5jZSBpc3N1ZXNcXG4zLiBDb2RlIHN0eWxlIGFuZCByZWFkYWJpbGl0eVxcbjQuIFNlY3VyaXR5IHZ1bG5lcmFiaWxpdGllc1xcbjUuIEJlc3QgcHJhY3RpY2VzIGFkaGVyZW5jZVxcblxcblByb3ZpZGUgc3BlY2lmaWMsIGFjdGlvbmFibGUgZmVlZGJhY2sgd2l0aCBleGFtcGxlcy5cXG5cXG5VU0VSOiBQbGVhc2UgcmV2aWV3IHRoaXMgY29kZTpcXG48PElOUFVUPj5cIixcbiAgICAgICAgICBleGFtcGxlSW5wdXQ6IFwiZnVuY3Rpb24gY2FsY3VsYXRlVG90YWwoaXRlbXMpIHtcXG4gIGxldCB0b3RhbCA9IDA7XFxuICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XFxuICAgIHRvdGFsICs9IGl0ZW1zW2ldLnByaWNlO1xcbiAgfVxcbiAgcmV0dXJuIHRvdGFsO1xcbn1cIixcbiAgICAgICAgICBleGFtcGxlT3V0cHV0OiBcIiMjIENvZGUgUmV2aWV3IEZlZWRiYWNrXFxuXFxuIyMjIElzc3VlcyBGb3VuZDpcXG5cXG4xLiAqKk1pc3NpbmcgSW5wdXQgVmFsaWRhdGlvbioqOiBObyBudWxsL3VuZGVmaW5lZCBjaGVja3NcXG4yLiAqKlBlcmZvcm1hbmNlKio6IENvdWxkIHVzZSByZWR1Y2UoKSBmb3IgYmV0dGVyIHJlYWRhYmlsaXR5XFxuMy4gKipFZGdlIENhc2VzKio6IEVtcHR5IGFycmF5IGhhbmRsaW5nXFxuXFxuIyMjIFN1Z2dlc3RlZCBJbXByb3ZlbWVudHM6XFxuXFxuYGBgamF2YXNjcmlwdFxcbmZ1bmN0aW9uIGNhbGN1bGF0ZVRvdGFsKGl0ZW1zKSB7XFxuICBpZiAoIUFycmF5LmlzQXJyYXkoaXRlbXMpKSB7XFxuICAgIHRocm93IG5ldyBFcnJvcignSXRlbXMgbXVzdCBiZSBhbiBhcnJheScpO1xcbiAgfVxcbiAgXFxuICByZXR1cm4gaXRlbXMucmVkdWNlKCh0b3RhbCwgaXRlbSkgPT4ge1xcbiAgICBpZiAodHlwZW9mIGl0ZW0ucHJpY2UgIT09ICdudW1iZXInIHx8IGl0ZW0ucHJpY2UgPCAwKSB7XFxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHByaWNlJyk7XFxuICAgIH1cXG4gICAgcmV0dXJuIHRvdGFsICsgaXRlbS5wcmljZTtcXG4gIH0sIDApO1xcbn1cXG5gYGBcXG5cXG4jIyMgQmVuZWZpdHM6XFxuLSBJbnB1dCB2YWxpZGF0aW9uIHByZXZlbnRzIHJ1bnRpbWUgZXJyb3JzXFxuLSBNb3JlIHJlYWRhYmxlIGFuZCBmdW5jdGlvbmFsIGFwcHJvYWNoXFxuLSBCZXR0ZXIgZXJyb3IgaGFuZGxpbmdcIixcbiAgICAgICAgICBjcmVhdGVkQXQ6IFwiMjAyNC0wMS0xNVQxMDozMDowMFpcIixcbiAgICAgICAgICB1cGRhdGVkQXQ6IFwiMjAyNC0wMS0xNVQxMDozMDowMFpcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgX2lkOiBcIjY4YzI4YmYxODViNzVhZGE1OWI1NWQ1OVwiLFxuICAgICAgICAgIHRpdGxlOiBcIkRhdGEgQW5hbHlzaXMgU3VtbWFyeVwiLFxuICAgICAgICAgIGNhdGVnb3J5OiBcIkRhdGFcIixcbiAgICAgICAgICB0YWdzOiBbXCJkYXRhXCIsIFwiYW5hbHlzaXNcIiwgXCJpbnNpZ2h0c1wiLCBcInN1bW1hcnlcIl0sXG4gICAgICAgICAgZGVzY3JpcHRpb246IFwiR2VuZXJhdGUgY29tcHJlaGVuc2l2ZSBkYXRhIGFuYWx5c2lzIHN1bW1hcmllcyB3aXRoIGtleSBpbnNpZ2h0cy5cIixcbiAgICAgICAgICBwcm9tcHQ6IFwiU1lTVEVNOiBZb3UgYXJlIGEgZGF0YSBhbmFseXN0LiBBbmFseXplIHRoZSBwcm92aWRlZCBkYXRhc2V0IGFuZCBjcmVhdGUgYSBjb21wcmVoZW5zaXZlIHN1bW1hcnkgaW5jbHVkaW5nOlxcbjEuIERhdGFzZXQgb3ZlcnZpZXcgKHNpemUsIGNvbHVtbnMsIGRhdGEgdHlwZXMpXFxuMi4gS2V5IHN0YXRpc3RpY3MgYW5kIGRpc3RyaWJ1dGlvbnNcXG4zLiBOb3RhYmxlIHBhdHRlcm5zIG9yIHRyZW5kc1xcbjQuIFBvdGVudGlhbCBpbnNpZ2h0cyBvciByZWNvbW1lbmRhdGlvbnNcXG41LiBEYXRhIHF1YWxpdHkgYXNzZXNzbWVudFxcblxcblByZXNlbnQgZmluZGluZ3MgaW4gYSBjbGVhciwgc3RydWN0dXJlZCBmb3JtYXQuXFxuXFxuVVNFUjogQW5hbHl6ZSB0aGlzIGRhdGFzZXQ6XFxuPDxJTlBVVD4+XCIsXG4gICAgICAgICAgZXhhbXBsZUlucHV0OiBcIlNhbGVzIGRhdGE6IFExIDIwMjRcXG4tIFRvdGFsIHNhbGVzOiAkMi4zTVxcbi0gVG9wIHByb2R1Y3Q6IFdpZGdldCBBICgzNSUgb2Ygc2FsZXMpXFxuLSBHcm93dGggcmF0ZTogKzEyJSB2cyBRMSAyMDIzXFxuLSBDdXN0b21lciBhY3F1aXNpdGlvbjogMSwyMDAgbmV3IGN1c3RvbWVyc1xcbi0gQXZlcmFnZSBvcmRlciB2YWx1ZTogJDE4N1wiLFxuICAgICAgICAgIGV4YW1wbGVPdXRwdXQ6IFwiIyMgUTEgMjAyNCBTYWxlcyBBbmFseXNpcyBTdW1tYXJ5XFxuXFxuIyMjIERhdGFzZXQgT3ZlcnZpZXdcXG4tICoqUGVyaW9kKio6IFExIDIwMjRcXG4tICoqVG90YWwgUmV2ZW51ZSoqOiAkMi4zTVxcbi0gKipOZXcgQ3VzdG9tZXJzKio6IDEsMjAwXFxuLSAqKkF2ZXJhZ2UgT3JkZXIgVmFsdWUqKjogJDE4N1xcblxcbiMjIyBLZXkgUGVyZm9ybWFuY2UgSW5kaWNhdG9yc1xcbi0gKipHcm93dGggUmF0ZSoqOiArMTIlIFlvWSAoc3Ryb25nIHBvc2l0aXZlIHRyZW5kKVxcbi0gKipQcm9kdWN0IENvbmNlbnRyYXRpb24qKjogV2lkZ2V0IEEgZG9taW5hdGVzIGF0IDM1JSBvZiBzYWxlc1xcbi0gKipDdXN0b21lciBBY3F1aXNpdGlvbioqOiAxLDIwMCBuZXcgY3VzdG9tZXJzIGluZGljYXRlcyBoZWFsdGh5IGdyb3d0aFxcblxcbiMjIyBJbnNpZ2h0cyAmIFJlY29tbWVuZGF0aW9uc1xcbjEuICoqUHJvZHVjdCBEaXZlcnNpZmljYXRpb24qKjogQ29uc2lkZXIgcHJvbW90aW5nIG90aGVyIHByb2R1Y3RzIHRvIHJlZHVjZSBkZXBlbmRlbmN5IG9uIFdpZGdldCBBXFxuMi4gKipDdXN0b21lciBWYWx1ZSoqOiBBT1Ygb2YgJDE4NyBzdWdnZXN0cyBnb29kIGN1c3RvbWVyIGVuZ2FnZW1lbnRcXG4zLiAqKkdyb3d0aCBUcmFqZWN0b3J5Kio6IDEyJSBZb1kgZ3Jvd3RoIGluZGljYXRlcyBzdHJvbmcgbWFya2V0IHBvc2l0aW9uXFxuXFxuIyMjIE5leHQgU3RlcHNcXG4tIE1vbml0b3IgV2lkZ2V0IEEgcGVyZm9ybWFuY2UgY2xvc2VseVxcbi0gSW52ZXN0aWdhdGUgZmFjdG9ycyBkcml2aW5nIHRoZSAxMiUgZ3Jvd3RoXFxuLSBBbmFseXplIGN1c3RvbWVyIGFjcXVpc2l0aW9uIGNoYW5uZWxzIGZvciBvcHRpbWl6YXRpb25cIixcbiAgICAgICAgICBjcmVhdGVkQXQ6IFwiMjAyNC0wMS0xNVQxMDozMDowMFpcIixcbiAgICAgICAgICB1cGRhdGVkQXQ6IFwiMjAyNC0wMS0xNVQxMDozMDowMFpcIlxuICAgICAgICB9XG4gICAgICBdO1xuICAgICAgXG4gICAgICAvLyBTZXQgY2FjaGUgaGVhZGVycyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXG4gICAgICByZXMuc2V0SGVhZGVyKCdDYWNoZS1Db250cm9sJywgJ3B1YmxpYywgbWF4LWFnZT0zMDAsIHMtbWF4YWdlPTMwMCwgc3RhbGUtd2hpbGUtcmV2YWxpZGF0ZT02MCcpXG4gICAgICBcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihmYWxsYmFja1Byb21wdHMpXG4gICAgfVxuICAgIFxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9KVxuICB9XG59XG4iXSwibmFtZXMiOlsiY29ubmVjdFRvRGF0YWJhc2UiLCJyYXRlTGltaXRNYXAiLCJNYXAiLCJyYXRlTGltaXQiLCJpZGVudGlmaWVyIiwibGltaXQiLCJ3aW5kb3dNcyIsIm5vdyIsIkRhdGUiLCJ3aW5kb3dTdGFydCIsImhhcyIsInNldCIsInJlcXVlc3RzIiwiZ2V0IiwiZmlsdGVyIiwidGltZSIsImxlbmd0aCIsInB1c2giLCJoYW5kbGVyIiwicmVxIiwicmVzIiwic2V0SGVhZGVyIiwibWV0aG9kIiwic3RhdHVzIiwiZW5kIiwiY2xpZW50SVAiLCJoZWFkZXJzIiwiY29ubmVjdGlvbiIsInJlbW90ZUFkZHJlc3MiLCJqc29uIiwiZXJyb3IiLCJkYiIsImNhdGVnb3J5IiwicSIsInNlYXJjaFF1ZXJ5IiwicXVlcnkiLCJzYW5pdGl6ZWRRdWVyeSIsInJlcGxhY2UiLCIkb3IiLCJ0aXRsZSIsIiRyZWdleCIsIiRvcHRpb25zIiwiZGVzY3JpcHRpb24iLCJ0YWdzIiwiJGluIiwiUmVnRXhwIiwicHJvbXB0cyIsImNvbGxlY3Rpb24iLCJmaW5kIiwic29ydCIsImNyZWF0ZWRBdCIsInBhcnNlSW50IiwidG9BcnJheSIsImFwaUtleSIsImF1dGhvcml6YXRpb24iLCJwcm9jZXNzIiwiZW52IiwiQVBJX0tFWSIsInByb21wdCIsImV4YW1wbGVJbnB1dCIsImV4YW1wbGVPdXRwdXQiLCJib2R5IiwibmV3UHJvbXB0IiwidXBkYXRlZEF0IiwicmVzdWx0IiwiaW5zZXJ0T25lIiwic3VjY2VzcyIsImlkIiwiaW5zZXJ0ZWRJZCIsIl9pZCIsImNvbnNvbGUiLCJmYWxsYmFja1Byb21wdHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/prompts/index.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprompts&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fprompts%2Findex.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();